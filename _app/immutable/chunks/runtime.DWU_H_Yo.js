const Sn=32768,mn=65536;const kn=Symbol("$state"),Bn=Symbol("$state.frozen");function P(n){return n===this.v}function En(n,r){return n!=n?r==r:n!==r||n!==null&&typeof n=="object"||typeof n=="function"}function K(n){return!En(n,this.v)}function vn(n){throw new Error("effect_in_teardown")}function cn(){throw new Error("effect_in_unowned_derived")}function Tn(n){throw new Error("effect_orphan")}function hn(){throw new Error("effect_update_depth_exceeded")}function xn(){throw new Error("hydration_failed")}function qn(n){throw new Error("props_invalid_value")}function Rn(){throw new Error("state_unsafe_mutation")}function b(n){return{f:0,v:n,reactions:null,equals:P,version:0}}function Ln(n){var t;const r=b(n);return r.equals=K,E!==null&&E.l!==null&&((t=E.l).s??(t.s=[])).push(r),r}function gn(n,r){return f!==null&&q()&&f.f&2&&Rn(),n.equals(r)||(n.v=r,n.version=un(),y(n,1024),q()&&o!==null&&o.f&512&&!(o.f&32)&&(a!==null&&a.includes(n)?(h(o,1024),B(o)):R===null?wn([n]):R.push(n))),r}function y(n,r){var t=n.reactions;if(t!==null)for(var l=q(),s=t.length,u=0;u<s;u++){var e=t[u],i=e.f;i&1024||!l&&e===o||(h(e,r),i&640&&(i&2?y(e,2048):B(e)))}}function $(n){o===null&&f===null&&Tn(),f!==null&&f.f&128&&cn(),g&&vn()}function H(n,r){var t=r.last;t===null?r.last=r.first=n:(t.next=n,n.prev=t,r.last=n)}function I(n,r,t,l=!0){var s=(n&64)!==0,u={ctx:E,deps:null,nodes:null,f:n|1024,first:null,fn:r,last:null,next:null,parent:s?null:o,prev:null,teardown:null,transitions:null,version:0};if(t){var e=p;try{M(!0),k(u),u.f|=16384}finally{M(e)}}else r!==null&&B(u);var i=t&&u.deps===null&&u.first===null&&u.nodes===null&&u.teardown===null;return!i&&!s&&l&&(o!==null&&H(u,o),f!==null&&f.f&2&&H(u,f)),u}function dn(n){$();var r=o!==null&&(o.f&8)!==0&&E!==null&&!E.m;if(r){var t=E;(t.e??(t.e=[])).push(n)}else{var l=j(n);return l}}function Hn(n){return $(),z(n)}function Mn(n){const r=I(64,n,!0);return()=>{L(r)}}function j(n){return I(4,n,!1)}function z(n){return I(8,n,!0)}function Un(n){return z(n)}function Vn(n,r=0){return I(24|r,n,!0)}function Wn(n,r=!0){return I(40,n,!0,r)}function G(n){var r=n.teardown;if(r!==null){const t=g,l=f;U(!0),V(null);try{r.call(null)}finally{U(t),V(l)}}}function L(n,r=!0){var t=!1;if((r||n.f&262144)&&n.nodes!==null){for(var l=n.nodes.start,s=n.nodes.end;l!==null;){var u=l===s?null:l.nextSibling;l.remove(),l=u}t=!0}if(d(n,r&&!t),m(n,0),h(n,8192),n.transitions)for(const i of n.transitions)i.stop();G(n);var e=n.parent;e!==null&&n.f&32&&e.first!==null&&Z(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.parent=n.fn=n.nodes=null}function Z(n){var r=n.parent,t=n.prev,l=n.next;t!==null&&(t.next=l),l!==null&&(l.prev=t),r!==null&&(r.first===n&&(r.first=l),r.last===n&&(r.last=t))}function Pn(n,r){var t=[];J(n,t,!0),Dn(t,()=>{L(n),r&&r()})}function Dn(n,r){var t=n.length;if(t>0){var l=()=>--t||r();for(var s of n)s.out(l)}else r()}function J(n,r,t){if(!(n.f&4096)){if(n.f^=4096,n.transitions!==null)for(const e of n.transitions)(e.is_global||t)&&r.push(e);for(var l=n.first;l!==null;){var s=l.next,u=(l.f&32768)!==0||(l.f&32)!==0;J(l,r,u?t:!1),l=s}}}function Kn(n){Q(n,!0)}function Q(n,r){if(n.f&4096){n.f^=4096,O(n)&&k(n);for(var t=n.first;t!==null;){var l=t.next,s=(t.f&32768)!==0||(t.f&32)!==0;Q(t,s?r:!1),t=l}if(n.transitions!==null)for(const u of n.transitions)(u.is_global||r)&&u.in()}}const bn=()=>{};function Cn(n){for(var r=0;r<n.length;r++)n[r]()}let S=!1,x=[];function X(){S=!1;const n=x.slice();x=[],Cn(n)}function yn(n){S||(S=!0,queueMicrotask(X)),x.push(n)}function Fn(){S&&X()}function Nn(n){let r=1026;o===null&&(r|=128);const t={deps:null,deriveds:null,equals:P,f:r,first:null,fn:n,last:null,reactions:null,v:null,version:0};if(f!==null&&f.f&2){var l=f;l.deriveds===null?l.deriveds=[t]:l.deriveds.push(t)}return t}function $n(n){const r=Nn(n);return r.equals=K,r}function nn(n){d(n);var r=n.deriveds;if(r!==null){n.deriveds=null;for(var t=0;t<r.length;t+=1)pn(r[t])}}function rn(n){nn(n);var r=sn(n),t=(N||n.f&128)&&n.deps!==null?2048:512;h(n,t),n.equals(r)||(n.v=r,n.version=un())}function pn(n){nn(n),m(n,0),h(n,8192),n.first=n.last=n.deps=n.reactions=n.fn=null}const tn=0,An=1;let Y=tn,w=!1,p=!1,g=!1;function M(n){p=n}function U(n){g=n}let D=[],A=0,f=null;function V(n){f=n}let o=null,a=null,_=0,R=null;function wn(n){R=n}let ln=0,N=!1,E=null;function un(){return ln++}function q(){return E!==null&&E.l===null}function O(n){var e,i;var r=n.f;if(r&1024)return!0;if(r&2048){var t=n.deps;if(t!==null){var l=(r&128)!==0,s;if(r&256){for(s=0;s<t.length;s++)((e=t[s]).reactions??(e.reactions=[])).push(n);n.f^=256}for(s=0;s<t.length;s++){var u=t[s];if(O(u)&&rn(u),u.version>n.version)return!0;l&&!N&&!((i=u==null?void 0:u.reactions)!=null&&i.includes(n))&&(u.reactions??(u.reactions=[])).push(n)}}h(n,512)}return!1}function In(n,r,t){throw n}function sn(n){var r=a,t=_,l=R,s=f,u=N;a=null,_=0,R=null,f=n.f&96?null:n,N=!p&&(n.f&128)!==0;try{var e=(0,n.fn)(),i=n.deps;if(a!==null){var v,c;if(i!==null){var C=_===0?a:i.slice(0,_).concat(a),F=C.length>16?new Set(C):null;for(c=_;c<i.length;c++)v=i[c],(F!==null?!F.has(v):!C.includes(v))&&en(n,v)}if(i!==null&&_>0)for(i.length=_+a.length,c=0;c<a.length;c++)i[_+c]=a[c];else n.deps=i=a;if(!N)for(c=_;c<i.length;c++){v=i[c];var T=v.reactions;T===null?v.reactions=[n]:T[T.length-1]!==n&&!T.includes(n)&&T.push(n)}}else i!==null&&_<i.length&&(m(n,_),i.length=_);return e}finally{a=r,_=t,R=l,f=s,N=u}}function en(n,r){const t=r.reactions;let l=0;if(t!==null){l=t.length-1;const s=t.indexOf(n);s!==-1&&(l===0?r.reactions=null:(t[s]=t[l],t.pop()))}l===0&&r.f&2&&(h(r,2048),r.f&384||(r.f^=256),m(r,0))}function m(n,r){var t=n.deps;if(t!==null)for(var l=r===0?null:t.slice(0,r),s=new Set,u=r;u<t.length;u++){var e=t[u];s.has(e)||(s.add(e),(l===null||!l.includes(e))&&en(n,e))}}function d(n,r=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var l=t.next;L(t,r),t=l}}function k(n){var r=n.f;if(!(r&8192)){h(n,512);var t=n.ctx,l=o,s=E;o=n,E=t;try{r&16||d(n),G(n);var u=sn(n);n.teardown=typeof u=="function"?u:null,n.version=ln}catch(e){In(e)}finally{o=l,E=s}}}function on(){A>1e3&&(A=0,hn()),A++}function fn(n){var r=n.length;if(r!==0){on();var t=p;p=!0;try{for(var l=0;l<r;l++){var s=n[l];if(s.first===null&&!(s.f&32))W([s]);else{var u=[];an(s,u),W(u)}}}finally{p=t}}}function W(n){var r=n.length;if(r!==0)for(var t=0;t<r;t++){var l=n[t];!(l.f&12288)&&O(l)&&(k(l),l.deps===null&&l.first===null&&l.nodes===null&&(l.teardown===null?Z(l):l.fn=null))}}function On(){if(w=!1,A>1001)return;const n=D;D=[],fn(n),w||(A=0)}function B(n){Y===tn&&(w||(w=!0,queueMicrotask(On)));for(var r=n;r.parent!==null;){r=r.parent;var t=r.f;if(t&32){if(!(t&512))return;h(r,2048)}}D.push(r)}function an(n,r){var t=n.first,l=[];n:for(;t!==null;){var s=t.f,u=(s&12288)===0,e=s&32,i=(s&512)!==0,v=t.first;if(u&&(!e||!i)){if(e&&h(t,512),s&8){if(!e&&O(t)&&(k(t),v=t.first),v!==null){t=v;continue}}else if(s&4)if(e||i){if(v!==null){t=v;continue}}else l.push(t)}var c=t.next;if(c===null){let T=t.parent;for(;T!==null;){if(n===T)break n;var C=T.next;if(C!==null){t=C;continue n}T=T.parent}}t=c}for(var F=0;F<l.length;F++)v=l[F],r.push(v),an(v,r)}function _n(n,r=!0){var t=Y,l=D;try{on();const u=[];Y=An,D=u,w=!1,r&&fn(l);var s=n==null?void 0:n();return Fn(),(D.length>0||u.length>0)&&_n(),A=0,s}finally{Y=t,D=l}}async function jn(){await Promise.resolve(),_n()}function zn(n){var r=n.f;if(r&8192)return n.v;if(f!==null){var t=f.deps;a===null&&t!==null&&t[_]===n?_++:(t===null||_===0||t[_-1]!==n)&&(a===null?a=[n]:a[a.length-1]!==n&&a.push(n)),R!==null&&o!==null&&o.f&512&&!(o.f&32)&&R.includes(n)&&(h(o,1024),B(o))}if(r&2){var l=n;O(l)&&rn(l)}return n.v}function Gn(n){const r=f;try{return f=null,n()}finally{f=r}}const Yn=-3585;function h(n,r){n.f=n.f&Yn|r}function Zn(n,r=!1,t){E={p:E,c:null,e:null,m:!1,s:n,x:null,l:null},r||(E.l={s:null,u:null,r1:[],r2:b(!1)})}function Jn(n){const r=E;if(r!==null){const l=r.e;if(l!==null){r.e=null;for(var t=0;t<l.length;t++)j(l[t])}E=r.p,r.m=!0}return{}}export{E as A,_n as B,xn as C,Mn as D,Sn as E,mn as L,Bn as S,Wn as a,Vn as b,qn as c,K as d,gn as e,Nn as f,zn as g,$n as h,Zn as i,Hn as j,dn as k,Jn as l,Ln as m,bn as n,b as o,Pn as p,Un as q,kn as r,En as s,jn as t,Gn as u,o as v,Kn as w,j as x,z as y,yn as z};
