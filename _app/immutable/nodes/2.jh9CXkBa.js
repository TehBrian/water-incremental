import{f as l,t as i,e as P,s as e,h as B,i as k,j as it}from"../chunks/disclose-version.Cw2uwD9G.js";import{i as ut,q as f,l as pt,e as r,g as t,o as b,f as C}from"../chunks/runtime.DWU_H_Yo.js";import{d as vt,s as q}from"../chunks/render.CSWyOgtJ.js";import{o as _t,i as _,b as dt,p as d}from"../chunks/index-client.BD8xqTpq.js";var ct=i("<p>All this purchasing, filling, and selling is getting really exhausting.</p> <p>You're thinking you can get some friends to help you with your business.</p>",1),mt=i("<p> </p>"),ft=(D,n,u)=>{t(n)&&r(u,d(t(n).value))},bt=i(`<p>Your water bottles have become so popular amongst the running community that you figure you can
		purchase labeled bottles with your brand.</p> <p>And, of course, mark up the price thanks to brand recognition.</p> <p>What will your brand name be?</p> <input> <button>Let's do it.</button>`,1),ht=i(`<p>Your mom is proud to have raised a little entrepreneur, but she's worried that you'll run up the
		water bill.</p> <p>She proposes that you can keep business running if you pay her $0.10 for every bottle you fill.</p>`,1),gt=i("<p>This is turning out to be quite the luxurious business. You're basically rolling in cash, now.</p>"),yt=i(`<p>Your mom gave you $5 for your birthday.</p> <p>You figure you can make some quick cash by selling water bottles filled from the tap to thirsty
		passersby on the street.</p>`,1),Bt=(D,n,u,h)=>{r(n,t(n)-5),r(u,t(u)+15),r(h,!0)},kt=(D,n,u,h,g,S)=>{r(n,t(n)-1),r(u,t(u)+1),r(h,!0),t(g)&&r(S,t(S)-.1)},St=i("<br>Costs $0.10.",1),wt=i("<p> </p> <button>Fill bottle with tap water. <!></button>",1),xt=(D,n,u,h,g,S)=>{r(n,t(n)-1),r(u,t(u)+1),t(h)?r(g,t(g)+.8):r(g,t(g)+.5),r(S,!0)},$t=i("0.80",1),Ft=i("0.50",1),Yt=i("<p> </p> <button>Sell bottle to thirsty passerby.<br>Earns $<!>.</button>",1),Nt=i("<p> </p>"),It=i("<!> <hr> <p> </p> <button>Purchase 15-pack of empty<!> bottles.<br>Costs $5.</button> <!> <!> <!>",1);function At(D,n){ut(n,!0);function u(){return{hasBoughtBottle:t(J),hasFilledBottle:t(O),hasSoldBottle:t(j),money:t(y),emptyBottles:t(w),filledBottles:t(x),soldBottles:t(c),brandName:t(m)}}function h(o){r(O,d(o.hasFilledBottle)),r(J,d(o.hasBoughtBottle)),r(j,d(o.hasSoldBottle)),r(y,d(o.money)),r(w,d(o.emptyBottles)),r(x,d(o.filledBottles)),r(c,d(o.soldBottles)),r(m,d(o.brandName))}function g(){return{hasBoughtBottle:!1,hasFilledBottle:!1,hasSoldBottle:!1,money:5,emptyBottles:0,filledBottles:0,soldBottles:0,brandName:null}}const S="water-incremental-save";function V(){localStorage.setItem(S,JSON.stringify(u())),console.log("Wrote save to local storage.")}function X(){const o=localStorage.getItem(S);o!==null?(h(JSON.parse(o)),console.log("Read save from local storage.")):(h(g()),console.log("Found no save in local storage."))}_t(async()=>{X(),setInterval(()=>V(),1e3)});let J=b(!1),O=b(!1),j=b(!1),y=b(5),w=b(0),x=b(0),c=b(0),Z=C(()=>t(c)>=80),E=C(()=>t(c)>=150),tt=C(()=>t(c)>=220),et=C(()=>t(c)>=300),ot=C(()=>t(w)<1||t(E)&&t(y)<.1),m=b(null),R=b(null);function rt(o,a,p){return o==1?a:p}function T(o){return rt(o,"","s")}var U=It(),z=B(U);_(z,()=>t(et),o=>{var a=ct();l(o,a)},o=>{var a=P(),p=B(a);_(p,()=>t(m),$=>{var s=mt(),F=k(s);f(()=>q(F,`With your new-found brand name of ${t(m)??""}, you've been able to successfully mark up your
		bottled tap water from $0.50 to $0.80.`)),l($,s)},$=>{var s=P(),F=B(s);_(F,()=>t(tt),Y=>{var v=bt(),N=B(v),L=e(e(N,!0)),I=e(e(L,!0)),M=e(e(I,!0));dt(M,A=>r(R,d(A)),()=>t(R));var W=e(e(M,!0));W.__click=[ft,R,m],l(Y,v)},Y=>{var v=P(),N=B(v);_(N,()=>t(E),L=>{var I=ht();l(L,I)},L=>{var I=P(),M=B(I);_(M,()=>t(Z),W=>{var A=gt();l(W,A)},W=>{var A=yt();l(W,A)},!0),l(L,I)},!0),l(Y,v)},!0),l($,s)},!0),l(o,a)});var at=e(e(z,!0)),G=e(e(at,!0)),lt=k(G);f(()=>q(lt,`You have $${t(y).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2})??""}.`));var K=e(e(G,!0));K.__click=[Bt,y,w,J];var nt=e(k(K));_(nt,()=>t(m),o=>{var a=it(o);f(()=>q(a,`, ${t(m)??""}-branded`)),l(o,a)});var H=e(e(K,!0));_(H,()=>t(J),o=>{var a=wt(),p=B(a),$=k(p);f(()=>q($,`You have ${t(w)??""} empty bottle${T(t(w))??""}.`));var s=e(e(p,!0));s.__click=[kt,w,x,O,E,y];var F=e(k(s));_(F,()=>t(E),Y=>{var v=St();l(Y,v)}),f(()=>s.disabled=t(ot)),l(o,a)});var Q=e(e(H,!0));_(Q,()=>t(O),o=>{var a=Yt(),p=B(a),$=k(p);f(()=>q($,`You have ${t(x)??""} filled bottle${T(t(x))??""}.`));var s=e(e(p,!0));s.__click=[xt,x,c,m,y,j];var F=e(k(s)),Y=e(e(F,!0));_(Y,()=>t(m),v=>{var N=$t();l(v,N)},v=>{var N=Ft();l(v,N)}),f(()=>s.disabled=t(x)<1),l(o,a)});var st=e(e(Q,!0));_(st,()=>t(j),o=>{var a=Nt(),p=k(a);f(()=>q(p,`You've sold ${t(c)??""} filled bottle${T(t(c))??""}.`)),l(o,a)}),f(()=>K.disabled=t(y)<5),l(D,U),pt()}vt(["click"]);export{At as component};
